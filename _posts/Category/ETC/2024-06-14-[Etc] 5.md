---
layout: post
title: "SVN 설치 및 이클립스 연동"
date: 2023-08-25 01:20:23 +0900
category: [ETC]
---

# 0. 실행환경
- Azure VM
- OS : Ubuntu

# 1. SVN 설치
## 1. 패키지 목록 업데이트
시스템의 패키지 목록 최신화
```shell
sudo apt update
```

## 2. Subversion 설치
```shell
sudo apt install subversion
```

## 3. 설치확인 [완료]
```shell
svn --version
```

# 2. SVN Repository 구성
## 1. 저장소(Repository) 생성
해당 구성환경에서 SVN Repository 경로를 지정합니다.
이때 저장소명은 Github의 repository명이라고 생각하면 됩니다.
```shell
# 명령어
svnadmin create /home/user/repository

master@svn:~/svn$ pwd
/home/master/svn

master@svn:~$ mkdir svn
master@svn:~/svn$ avnadmin createa repository

# 체크아웃
master@svn:~$ svn checkout file:///home/master/svn/repository/ /home/master/svn/repository_copy
```

## 2. 원격 접근 설정
원격으로 SVN 저장소에 접근하려면 Apache HTTP Server와 SVN의 WebDAV 모듈을 사용하여 설정할 수 있습니다. 
이 작업은 기본적인 SVN 사용을 위해 필수는 아니지만, 협업 환경에서 유용할 수 있습니다.

### 1. Apache 및 모듈 설치
```shell
master@svn:~/svn/repository_copy$ sudo apt install apache2 libapache2-mod-svn

Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser db5.3-util openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapache2-mod-svn libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5
0 upgraded, 10 newly installed, 0 to remove and 4 not upgraded.
Need to get 1784 kB of archives.
After this operation, 8003 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 libaprutil1-dbd-sqlite3 amd64 1.6.1-4ubuntu2.2 [10.5 kB]
Get:2 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 libaprutil1-ldap amd64 1.6.1-4ubuntu2.2 [8752 B]
Get:3 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 libjansson4 amd64 2.12-1build1 [28.9 kB]
Get:4 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 liblua5.2-0 amd64 5.2.4-1.1build3 [106 kB]
Get:5 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2-bin amd64 2.4.41-4ubuntu3.17 [1187 kB]
Get:6 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2-data all 2.4.41-4ubuntu3.17 [158 kB]
Get:7 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2-utils amd64 2.4.41-4ubuntu3.17 [84.1 kB]
Get:8 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2 amd64 2.4.41-4ubuntu3.17 [95.5 kB]
Get:9 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe amd64 libapache2-mod-svn amd64 1.13.0-3ubuntu0.2 [87.3 kB]
Get:10 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 ssl-cert all 1.0.39 [17.0 kB]
Fetched 1784 kB in 4s (504 kB/s)
Preconfiguring packages ...
Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.
(Reading database ... 59109 files and directories currently installed.)
Preparing to unpack .../0-libaprutil1-dbd-sqlite3_1.6.1-4ubuntu2.2_amd64.deb ...
Unpacking libaprutil1-dbd-sqlite3:amd64 (1.6.1-4ubuntu2.2) ...
Selecting previously unselected package libaprutil1-ldap:amd64.
Preparing to unpack .../1-libaprutil1-ldap_1.6.1-4ubuntu2.2_amd64.deb ...
Unpacking libaprutil1-ldap:amd64 (1.6.1-4ubuntu2.2) ...
Selecting previously unselected package libjansson4:amd64.
Preparing to unpack .../2-libjansson4_2.12-1build1_amd64.deb ...
Unpacking libjansson4:amd64 (2.12-1build1) ...
Selecting previously unselected package liblua5.2-0:amd64.
Preparing to unpack .../3-liblua5.2-0_5.2.4-1.1build3_amd64.deb ...
Unpacking liblua5.2-0:amd64 (5.2.4-1.1build3) ...
Selecting previously unselected package apache2-bin.
Preparing to unpack .../4-apache2-bin_2.4.41-4ubuntu3.17_amd64.deb ...
Unpacking apache2-bin (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package apache2-data.
Preparing to unpack .../5-apache2-data_2.4.41-4ubuntu3.17_all.deb ...
Unpacking apache2-data (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package apache2-utils.
Preparing to unpack .../6-apache2-utils_2.4.41-4ubuntu3.17_amd64.deb ...
Unpacking apache2-utils (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package apache2.
Preparing to unpack .../7-apache2_2.4.41-4ubuntu3.17_amd64.deb ...
Unpacking apache2 (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package libapache2-mod-svn.
Preparing to unpack .../8-libapache2-mod-svn_1.13.0-3ubuntu0.2_amd64.deb ...
Unpacking libapache2-mod-svn (1.13.0-3ubuntu0.2) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../9-ssl-cert_1.0.39_all.deb ...
Unpacking ssl-cert (1.0.39) ...
Setting up libaprutil1-ldap:amd64 (1.6.1-4ubuntu2.2) ...
Setting up libaprutil1-dbd-sqlite3:amd64 (1.6.1-4ubuntu2.2) ...
Setting up libjansson4:amd64 (2.12-1build1) ...
Setting up ssl-cert (1.0.39) ...
Setting up liblua5.2-0:amd64 (5.2.4-1.1build3) ...
Setting up apache2-data (2.4.41-4ubuntu3.17) ...
Setting up apache2-utils (2.4.41-4ubuntu3.17) ...
Setting up apache2-bin (2.4.41-4ubuntu3.17) ...
Setting up apache2 (2.4.41-4ubuntu3.17) ...
Enabling module mpm_event.
Enabling module authz_core.
Enabling module authz_host.
Enabling module authn_core.
Enabling module auth_basic.
Enabling module access_compat.
Enabling module authn_file.
Enabling module authz_user.
Enabling module alias.
Enabling module dir.
Enabling module autoindex.
Enabling module env.
Enabling module mime.
Enabling module negotiation.
Enabling module setenvif.
Enabling module filter.
Enabling module deflate.
Enabling module status.
Enabling module reqtimeout.
Enabling conf charset.
Enabling conf localized-error-pages.
Enabling conf other-vhosts-access-log.
Enabling conf security.
Enabling conf serve-cgi-bin.
Enabling site 000-default.
Created symlink /etc/systemd/system/multi-user.target.wants/apache2.service → /lib/systemd/system/apache2.service.
Created symlink /etc/systemd/system/multi-user.target.wants/apache-htcacheclean.service → /lib/systemd/system/apache-htcacheclea
Setting up libapache2-mod-svn (1.13.0-3ubuntu0.2) ...
apache2_invoke: Enable module dav_svn
apache2_invoke: Enable module authz_svn
Processing triggers for systemd (245.4-4ubuntu3.23) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.16) ...
Processing triggers for ufw (0.36-6ubuntu1.1) ...
```

### 2. Apache 설정 파일 편집
Apache 설정 파일을 열어 다음과 같은 구성을 추가합니다. /etc/apache2/mods-available/dav_svn.conf 파일을 편집합니다.

```shell
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/dav_svn.conf
```

-  dav_svn.conf파일
    - SVNParentPath : 생성된 저장소의 실제 디렉토리 입력
    - AuthUserFile  : 사용자 인증 파일 경로

```shell
<Location /svn>
   DAV svn
   SVNParentPath /var/lib/svn 

   # Basic Authentication
   AuthType Basic
   AuthName "Subversion Repository"
   AuthUserFile /etc/apache2/dav_svn.passwd

   # 제한 설정
   <LimitExcept GET PROPFIND OPTIONS REPORT>
      Require valid-user
   </LimitExcept>
</Location>
```

### 3. 사용자 인증 파일 생성
```shell
sudo htpasswd -cm /etc/subversion/passwd user1

master@svn:~$ sudo htpasswd -cm /etc/apache2/dav_svn.passwd user1
New password:
Re-type new password:
Adding password for user user1
```

- 추가 사용자 계정 생성시 c 생략

```shell
sudo htpasswd -m /etc/subversion/passwd user2
```

---

# 실제 구성 환경 log
```shell
master@svn:~$ mkdir svn
master@svn:~$ cd svn
master@svn:~/svn$ ls
master@svn:~/svn$ cd..
cd..: command not found
master@svn:~/svn$ sudo apt install subversion
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 subversion : Depends: libsvn1 (= 1.13.0-3ubuntu0.2) but it is not going to be installed
              Depends: libapr1 (>= 1.5.0) but it is not installable
              Depends: libaprutil1 (>= 1.3.2+dfsg) but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
master@svn:~/svn$ subversion
subversion: command not found
master@svn:~/svn$ svn

Command 'svn' not found, but can be installed with:

sudo apt install subversion

master@svn:~/svn$ sudo apt install subversion
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 subversion : Depends: libsvn1 (= 1.13.0-3ubuntu0.2) but it is not going to be installed
              Depends: libapr1 (>= 1.5.0) but it is not installable
              Depends: libaprutil1 (>= 1.3.2+dfsg) but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
master@svn:~/svn$ ^C
master@svn:~/svn$ sudo apt install subversion
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 subversion : Depends: libsvn1 (= 1.13.0-3ubuntu0.2) but it is not going to be installed
              Depends: libapr1 (>= 1.5.0) but it is not installable
              Depends: libaprutil1 (>= 1.3.2+dfsg) but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
master@svn:~/svn$ sudo apt get update
E: Invalid operation get
master@svn:~/svn$ apt get update
E: Invalid operation get
master@svn:~/svn$ sudo apt update
Get:1 http://azure.archive.ubuntu.com/ubuntu focal InRelease [265 kB]
Get:2 http://azure.archive.ubuntu.com/ubuntu focal-updates InRelease [128 kB]
Get:3 http://azure.archive.ubuntu.com/ubuntu focal-backports InRelease [128 kB]
Hit:4 http://azure.archive.ubuntu.com/ubuntu focal-security InRelease
Get:5 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 Packages [970 kB]
Get:6 http://azure.archive.ubuntu.com/ubuntu focal/main Translation-en [506 kB]
Get:7 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 c-n-f Metadata [29.5 kB]
Get:8 http://azure.archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [22.0 kB]
Get:9 http://azure.archive.ubuntu.com/ubuntu focal/restricted Translation-en [6212 B]
Get:10 http://azure.archive.ubuntu.com/ubuntu focal/restricted amd64 c-n-f Metadata [392 B]
Get:11 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 Packages [8628 kB]
Get:12 http://azure.archive.ubuntu.com/ubuntu focal/universe Translation-en [5124 kB]
Get:13 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]
Get:14 http://azure.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [144 kB]
Get:15 http://azure.archive.ubuntu.com/ubuntu focal/multiverse Translation-en [104 kB]
Get:16 http://azure.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n-f Metadata [9136 B]
Get:17 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [3359 kB]
Get:18 http://azure.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [528 kB]
Get:19 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [17.2 kB]
Get:20 http://azure.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [2979 kB]
Get:21 http://azure.archive.ubuntu.com/ubuntu focal-updates/restricted Translation-en [417 kB]
Get:22 http://azure.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [552 B]
Get:23 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1194 kB]
Get:24 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [287 kB]
Get:25 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [25.7 kB]
Get:26 http://azure.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [26.2 kB]
Get:27 http://azure.archive.ubuntu.com/ubuntu focal-updates/multiverse Translation-en [7880 B]
Get:28 http://azure.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [620 B]
Get:29 http://azure.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [45.7 kB]
Get:30 http://azure.archive.ubuntu.com/ubuntu focal-backports/main Translation-en [16.3 kB]
Get:31 http://azure.archive.ubuntu.com/ubuntu focal-backports/main amd64 c-n-f Metadata [1420 B]
Get:32 http://azure.archive.ubuntu.com/ubuntu focal-backports/restricted amd64 c-n-f Metadata [116 B]
Get:33 http://azure.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [25.0 kB]
Get:34 http://azure.archive.ubuntu.com/ubuntu focal-backports/universe Translation-en [16.3 kB]
Get:35 http://azure.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [880 B]
Get:36 http://azure.archive.ubuntu.com/ubuntu focal-backports/multiverse amd64 c-n-f Metadata [116 B]
Fetched 25.3 MB in 3s (7280 kB/s)
Reading package lists... Done
Building dependency tree
Reading state information... Done
4 packages can be upgraded. Run 'apt list --upgradable' to see them.
master@svn:~/svn$ sudo apt install subversion
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  libapr1 libaprutil1 libserf-1-1 libsvn1 libutf8proc2
Suggested packages:
  db5.3-util libapache2-mod-svn subversion-tools
The following NEW packages will be installed:
  libapr1 libaprutil1 libserf-1-1 libsvn1 libutf8proc2 subversion
0 upgraded, 6 newly installed, 0 to remove and 4 not upgraded.
Need to get 2356 kB of archives.
After this operation, 10.3 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 libapr1 amd64 1.6.5-1ubuntu1 [91.4 kB]
Get:2 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 libaprutil1 amd64 1.6.1-4ubuntu2.2 [85.1 kB]
Get:3 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 libserf-1-1 amd64 1.3.9-8build1 [45.2 kB]
Get:4 http://azure.archive.ubuntu.com/ubuntu focal/universe amd64 libutf8proc2 amd64 2.5.0-1 [50.0 kB]
Get:5 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe amd64 libsvn1 amd64 1.13.0-3ubuntu0.2 [1260 kB]
Get:6 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe amd64 subversion amd64 1.13.0-3ubuntu0.2 [824 kB]
Fetched 2356 kB in 2s (1089 kB/s)
Selecting previously unselected package libapr1:amd64.
(Reading database ... 58969 files and directories currently installed.)
Preparing to unpack .../0-libapr1_1.6.5-1ubuntu1_amd64.deb ...
Unpacking libapr1:amd64 (1.6.5-1ubuntu1) ...
Selecting previously unselected package libaprutil1:amd64.
Preparing to unpack .../1-libaprutil1_1.6.1-4ubuntu2.2_amd64.deb ...
Unpacking libaprutil1:amd64 (1.6.1-4ubuntu2.2) ...
Selecting previously unselected package libserf-1-1:amd64.
Preparing to unpack .../2-libserf-1-1_1.3.9-8build1_amd64.deb ...
Unpacking libserf-1-1:amd64 (1.3.9-8build1) ...
Selecting previously unselected package libutf8proc2:amd64.
Preparing to unpack .../3-libutf8proc2_2.5.0-1_amd64.deb ...
Unpacking libutf8proc2:amd64 (2.5.0-1) ...
Selecting previously unselected package libsvn1:amd64.
Preparing to unpack .../4-libsvn1_1.13.0-3ubuntu0.2_amd64.deb ...
Unpacking libsvn1:amd64 (1.13.0-3ubuntu0.2) ...
Selecting previously unselected package subversion.
Preparing to unpack .../5-subversion_1.13.0-3ubuntu0.2_amd64.deb ...
Unpacking subversion (1.13.0-3ubuntu0.2) ...
Setting up libutf8proc2:amd64 (2.5.0-1) ...
Setting up libapr1:amd64 (1.6.5-1ubuntu1) ...
Setting up libaprutil1:amd64 (1.6.1-4ubuntu2.2) ...
Setting up libserf-1-1:amd64 (1.3.9-8build1) ...
Setting up libsvn1:amd64 (1.13.0-3ubuntu0.2) ...
Setting up subversion (1.13.0-3ubuntu0.2) ...
Processing triggers for libc-bin (2.31-0ubuntu9.16) ...
Processing triggers for man-db (2.9.1-1) ...
master@svn:~/svn$ svn --version
svn, version 1.13.0 (r1867053)
   compiled May 12 2022, 20:47:08 on x86_64-pc-linux-gnu

Copyright (C) 2019 The Apache Software Foundation.
This software consists of contributions made by many people;
see the NOTICE file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - using serf 1.3.9 (compiled with 1.3.9)
  - handles 'http' scheme
  - handles 'https' scheme

The following authentication credential caches are available:

* Gnome Keyring
* GPG-Agent
* KWallet (KDE)

master@svn:~/svn$ cd ..
master@svn:~$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:~$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:~$ cd ..
master@svn:/home$ ls
master
master@svn:/home$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:/home$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:/home$ ls
master
master@svn:/home$ cd master/
master@svn:~$ ls
svn
master@svn:~$ svnadmin create svn/
master@svn:~$ mkdir svn
master@svn:~$ mkdir svn/repository
master@svn:~$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:~$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:~$ ls
svn
master@svn:~$ cd svn/
master@svn:~/svn$ ls
master@svn:~/svn$ pwd
/home/master/svn
master@svn:~/svn$ avnadmin createa repository

Command 'avnadmin' not found, did you mean:

  command 'svnadmin' from deb subversion (1.13.0-3ubuntu0.2)

Try: sudo apt install <deb name>

master@svn:~/svn$ svn --version
svn, version 1.13.0 (r1867053)
   compiled May 12 2022, 20:47:08 on x86_64-pc-linux-gnu

Copyright (C) 2019 The Apache Software Foundation.
This software consists of contributions made by many people;
see the NOTICE file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - using serf 1.3.9 (compiled with 1.3.9)
  - handles 'http' scheme
  - handles 'https' scheme

The following authentication credential caches are available:

* Gnome Keyring
* GPG-Agent
* KWallet (KDE)

master@svn:~/svn$ ls
master@svn:~/svn$ cd ..
master@svn:~$ ls
svn
master@svn:~$ ls
svn
master@svn:~$ ll
total 40
drwxr-xr-x 6 master master 4096 Jun 14 05:47 ./
drwxr-xr-x 3 root   root   4096 Jun 14 04:16 ../
-rw------- 1 master master   49 Jun 14 05:38 .Xauthority
-rw-r--r-- 1 master master  220 Feb 25  2020 .bash_logout
-rw-r--r-- 1 master master 3771 Feb 25  2020 .bashrc
drwx------ 2 master master 4096 Jun 14 05:38 .cache/
-rw-r--r-- 1 master master  807 Feb 25  2020 .profile
drwx------ 2 master master 4096 Jun 14 04:16 .ssh/
drwxrwxr-x 3 master master 4096 Jun 14 05:44 .subversion/
-rw-r--r-- 1 master master    0 Jun 14 05:41 .sudo_as_admin_successful
drwxrwxr-x 2 master master 4096 Jun 14 05:48 svn/
master@svn:~$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:~$ svnadmin create /s
sbin/ snap/ srv/  sys/
master@svn:~$ ll
total 40
drwxr-xr-x 6 master master 4096 Jun 14 05:47 ./
drwxr-xr-x 3 root   root   4096 Jun 14 04:16 ../
-rw------- 1 master master   49 Jun 14 05:38 .Xauthority
-rw-r--r-- 1 master master  220 Feb 25  2020 .bash_logout
-rw-r--r-- 1 master master 3771 Feb 25  2020 .bashrc
drwx------ 2 master master 4096 Jun 14 05:38 .cache/
-rw-r--r-- 1 master master  807 Feb 25  2020 .profile
drwx------ 2 master master 4096 Jun 14 04:16 .ssh/
drwxrwxr-x 3 master master 4096 Jun 14 05:44 .subversion/
-rw-r--r-- 1 master master    0 Jun 14 05:41 .sudo_as_admin_successful
drwxrwxr-x 2 master master 4096 Jun 14 05:48 svn/
master@svn:~$ svnadmin create svn/repository
master@svn:~$ svn checkout file:///home/master/svn/repository/ /home/master/svn/repository_copy
Checked out revision 0.
master@svn:~$ ls
svn
master@svn:~$ cd svn/repository_copy/
master@svn:~/svn/repository_copy$ echo "SVN Commit Test" > test.txt
master@svn:~/svn/repository_copy$ svn add test.txt
A         test.txt
master@svn:~/svn/repository_copy$ svn commit -m "commit test"
Adding         test.txt
Transmitting file data .done
Committing transaction...
Committed revision 1.
master@svn:~/svn/repository_copy$ svn -h
usage: svn <subcommand> [options] [args]
Subversion command-line client.
Type 'svn help <subcommand>' for help on a specific subcommand.
Type 'svn --version' to see the program version and RA modules,
     'svn --version --verbose' to see dependency versions as well,
     'svn --version --quiet' to see just the version number.

Most subcommands take file and/or directory arguments, recursing
on the directories.  If no arguments are supplied to such a
command, it recurses on the current directory (inclusive) by default.

Available subcommands:
   add
   auth
   blame (praise, annotate, ann)
   cat
   changelist (cl)
   checkout (co)
   cleanup
   commit (ci)
   copy (cp)
   delete (del, remove, rm)
   diff (di)
   export
   help (?, h)
   import
   info
   list (ls)
   lock
   log
   merge
   mergeinfo
   mkdir
   move (mv, rename, ren)
   patch
   propdel (pdel, pd)
   propedit (pedit, pe)
   propget (pget, pg)
   proplist (plist, pl)
   propset (pset, ps)
   relocate
   resolve
   resolved
   revert
   status (stat, st)
   switch (sw)
   unlock
   update (up)
   upgrade

(Use '-v' to show experimental subcommands.)

Subversion is a tool for version control.
For additional information, see http://subversion.apache.org/
master@svn:~/svn/repository_copy$ svn log
------------------------------------------------------------------------
master@svn:~/svn/repository_copy$ sudo apt install apache libapache-mod-svn
Reading package lists... Done
Building dependency tree
Reading state information... Done
Package apache is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'apache' has no installation candidate
E: Unable to locate package libapache-mod-svn
master@svn:~/svn/repository_copy$ apt update
Reading package lists... Done
E: Could not open lock file /var/lib/apt/lists/lock - open (13: Permission denied)
E: Unable to lock directory /var/lib/apt/lists/
W: Problem unlinking the file /var/cache/apt/pkgcache.bin - RemoveCaches (13: Permission denied)
W: Problem unlinking the file /var/cache/apt/srcpkgcache.bin - RemoveCaches (13: Permission denied)
master@svn:~/svn/repository_copy$ sudo apt update
Hit:1 http://azure.archive.ubuntu.com/ubuntu focal InRelease
Hit:2 http://azure.archive.ubuntu.com/ubuntu focal-updates InRelease
Hit:3 http://azure.archive.ubuntu.com/ubuntu focal-backports InRelease
Hit:4 http://azure.archive.ubuntu.com/ubuntu focal-security InRelease
Reading package lists... Done
Building dependency tree
Reading state information... Done
4 packages can be upgraded. Run 'apt list --upgradable' to see them.
master@svn:~/svn/repository_copy$ sudo apt install apache libapache-mod-svn
Reading package lists... Done
Building dependency tree
Reading state information... Done
Package apache is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'apache' has no installation candidate
E: Unable to locate package libapache-mod-svn
master@svn:~/svn/repository_copy$ ^C
master@svn:~/svn/repository_copy$ sudo apt install apache2 libapache2-mod-svn
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser db5.3-util openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapache2-mod-svn libaprutil1-dbd-sqlite3 libaprutil1-ldap libjansson4 liblua5
0 upgraded, 10 newly installed, 0 to remove and 4 not upgraded.
Need to get 1784 kB of archives.
After this operation, 8003 kB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 libaprutil1-dbd-sqlite3 amd64 1.6.1-4ubuntu2.2 [10.5 kB]
Get:2 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 libaprutil1-ldap amd64 1.6.1-4ubuntu2.2 [8752 B]
Get:3 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 libjansson4 amd64 2.12-1build1 [28.9 kB]
Get:4 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 liblua5.2-0 amd64 5.2.4-1.1build3 [106 kB]
Get:5 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2-bin amd64 2.4.41-4ubuntu3.17 [1187 kB]
Get:6 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2-data all 2.4.41-4ubuntu3.17 [158 kB]
Get:7 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2-utils amd64 2.4.41-4ubuntu3.17 [84.1 kB]
Get:8 http://azure.archive.ubuntu.com/ubuntu focal-updates/main amd64 apache2 amd64 2.4.41-4ubuntu3.17 [95.5 kB]
Get:9 http://azure.archive.ubuntu.com/ubuntu focal-updates/universe amd64 libapache2-mod-svn amd64 1.13.0-3ubuntu0.2 [87.3 kB]
Get:10 http://azure.archive.ubuntu.com/ubuntu focal/main amd64 ssl-cert all 1.0.39 [17.0 kB]
Fetched 1784 kB in 4s (504 kB/s)
Preconfiguring packages ...
Selecting previously unselected package libaprutil1-dbd-sqlite3:amd64.
(Reading database ... 59109 files and directories currently installed.)
Preparing to unpack .../0-libaprutil1-dbd-sqlite3_1.6.1-4ubuntu2.2_amd64.deb ...
Unpacking libaprutil1-dbd-sqlite3:amd64 (1.6.1-4ubuntu2.2) ...
Selecting previously unselected package libaprutil1-ldap:amd64.
Preparing to unpack .../1-libaprutil1-ldap_1.6.1-4ubuntu2.2_amd64.deb ...
Unpacking libaprutil1-ldap:amd64 (1.6.1-4ubuntu2.2) ...
Selecting previously unselected package libjansson4:amd64.
Preparing to unpack .../2-libjansson4_2.12-1build1_amd64.deb ...
Unpacking libjansson4:amd64 (2.12-1build1) ...
Selecting previously unselected package liblua5.2-0:amd64.
Preparing to unpack .../3-liblua5.2-0_5.2.4-1.1build3_amd64.deb ...
Unpacking liblua5.2-0:amd64 (5.2.4-1.1build3) ...
Selecting previously unselected package apache2-bin.
Preparing to unpack .../4-apache2-bin_2.4.41-4ubuntu3.17_amd64.deb ...
Unpacking apache2-bin (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package apache2-data.
Preparing to unpack .../5-apache2-data_2.4.41-4ubuntu3.17_all.deb ...
Unpacking apache2-data (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package apache2-utils.
Preparing to unpack .../6-apache2-utils_2.4.41-4ubuntu3.17_amd64.deb ...
Unpacking apache2-utils (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package apache2.
Preparing to unpack .../7-apache2_2.4.41-4ubuntu3.17_amd64.deb ...
Unpacking apache2 (2.4.41-4ubuntu3.17) ...
Selecting previously unselected package libapache2-mod-svn.
Preparing to unpack .../8-libapache2-mod-svn_1.13.0-3ubuntu0.2_amd64.deb ...
Unpacking libapache2-mod-svn (1.13.0-3ubuntu0.2) ...
Selecting previously unselected package ssl-cert.
Preparing to unpack .../9-ssl-cert_1.0.39_all.deb ...
Unpacking ssl-cert (1.0.39) ...
Setting up libaprutil1-ldap:amd64 (1.6.1-4ubuntu2.2) ...
Setting up libaprutil1-dbd-sqlite3:amd64 (1.6.1-4ubuntu2.2) ...
Setting up libjansson4:amd64 (2.12-1build1) ...
Setting up ssl-cert (1.0.39) ...
Setting up liblua5.2-0:amd64 (5.2.4-1.1build3) ...
Setting up apache2-data (2.4.41-4ubuntu3.17) ...
Setting up apache2-utils (2.4.41-4ubuntu3.17) ...
Setting up apache2-bin (2.4.41-4ubuntu3.17) ...
Setting up apache2 (2.4.41-4ubuntu3.17) ...
Enabling module mpm_event.
Enabling module authz_core.
Enabling module authz_host.
Enabling module authn_core.
Enabling module auth_basic.
Enabling module access_compat.
Enabling module authn_file.
Enabling module authz_user.
Enabling module alias.
Enabling module dir.
Enabling module autoindex.
Enabling module env.
Enabling module mime.
Enabling module negotiation.
Enabling module setenvif.
Enabling module filter.
Enabling module deflate.
Enabling module status.
Enabling module reqtimeout.
Enabling conf charset.
Enabling conf localized-error-pages.
Enabling conf other-vhosts-access-log.
Enabling conf security.
Enabling conf serve-cgi-bin.
Enabling site 000-default.
Created symlink /etc/systemd/system/multi-user.target.wants/apache2.service → /lib/systemd/system/apache2.service.
Created symlink /etc/systemd/system/multi-user.target.wants/apache-htcacheclean.service → /lib/systemd/system/apache-htcacheclea
Setting up libapache2-mod-svn (1.13.0-3ubuntu0.2) ...
apache2_invoke: Enable module dav_svn
apache2_invoke: Enable module authz_svn
Processing triggers for systemd (245.4-4ubuntu3.23) ...
Processing triggers for man-db (2.9.1-1) ...
Processing triggers for libc-bin (2.31-0ubuntu9.16) ...
Processing triggers for ufw (0.36-6ubuntu1.1) ...
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/dav_svn.conf
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/dav_svn.conf
master@svn:~/svn/repository_copy$ sudo htpassswd -cm /etc/apache2/dav_svn.passwd user1
sudo: htpassswd: command not found
master@svn:~/svn/repository_copy$ htpasswd
Usage:
        htpasswd [-cimBdpsDv] [-C cost] passwordfile username
        htpasswd -b[cmBdpsDv] [-C cost] passwordfile username password

        htpasswd -n[imBdps] [-C cost] username
        htpasswd -nb[mBdps] [-C cost] username password
 -c  Create a new file.
 -n  Don't update file; display results on stdout.
 -b  Use the password from the command line rather than prompting for it.
 -i  Read password from stdin without verification (for script usage).
 -m  Force MD5 encryption of the password (default).
 -B  Force bcrypt encryption of the password (very secure).
 -C  Set the computing time used for the bcrypt algorithm
     (higher is more secure but slower, default: 5, valid: 4 to 17).
 -d  Force CRYPT encryption of the password (8 chars max, insecure).
 -s  Force SHA encryption of the password (insecure).
 -p  Do not encrypt the password (plaintext, insecure).
 -D  Delete the specified user.
 -v  Verify password for the specified user.
On other systems than Windows and NetWare the '-p' flag will probably not work.
The SHA algorithm does not use a salt and is less secure than the MD5 algorithm.
master@svn:~/svn/repository_copy$ sudo htpasswd -cm /etc/apache2/dav_svn.passwd user1
New password:
Re-type new password:
Adding password for user user1
master@svn:~/svn/repository_copy$ sudo a2enmod dav
Module dav already enabled
master@svn:~/svn/repository_copy$ sudo a2enmod dav_svn
Considering dependency dav for dav_svn:
Module dav already enabled
Module dav_svn already enabled
master@svn:~/svn/repository_copy$ sudo a2enmod authz_user
Considering dependency authz_core for authz_user:
Module authz_core already enabled
Module authz_user already enabled
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ ^C
master@svn:~/svn/repository_copy$ sudo systemctl status apache2.service
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)
     Active: failed (Result: exit-code) since Fri 2024-06-14 06:06:54 UTC; 54s ago
       Docs: https://httpd.apache.org/docs/2.4/
    Process: 18278 ExecStart=/usr/sbin/apachectl start (code=exited, status=1/FAILURE)

Jun 14 06:06:54 svn systemd[1]: Starting The Apache HTTP Server...
Jun 14 06:06:54 svn apachectl[18281]: [Fri Jun 14 06:06:54.519893 2024] [so:warn] [pid 18281] AH01574: module dav_module is alre
Jun 14 06:06:54 svn apachectl[18281]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:06:54 svn apachectl[18281]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:06:54 svn apachectl[18278]: Action 'start' failed.
Jun 14 06:06:54 svn apachectl[18278]: The Apache error log may have more information.
Jun 14 06:06:54 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
Jun 14 06:06:54 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
master@svn:~/svn/repository_copy$ ^C
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-enabled/dav
dav.load      dav_svn.conf  dav_svn.load
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-enabled/dav
dav.load      dav_svn.conf  dav_svn.load
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-enabled/dav_svn.conf
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ sudo journalctl -xe
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2690 and the job result is failed.
Jun 14 06:06:54 svn sudo[18275]: pam_unix(sudo:session): session closed for user root
Jun 14 06:07:49 svn sudo[18286]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session closed for user root
Jun 14 06:09:51 svn sudo[18389]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/vi /
Jun 14 06:09:51 svn sudo[18389]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:10:53 svn sudo[18389]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:13 svn sudo[18415]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:11:13 svn systemd[1]: Starting The Apache HTTP Server...
-- Subject: A start job for unit apache2.service has begun execution
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has begun execution.
--
-- The job identifier is 2778.
Jun 14 06:11:13 svn apachectl[18421]: [Fri Jun 14 06:11:13.726036 2024] [so:warn] [pid 18421] AH01574: module dav_module is alre
Jun 14 06:11:13 svn apachectl[18421]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:11:13 svn apachectl[18421]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:11:13 svn apachectl[18418]: Action 'start' failed.
Jun 14 06:11:13 svn apachectl[18418]: The Apache error log may have more information.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
-- Subject: Unit process exited
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- An ExecStart= process belonging to unit apache2.service has exited.
--
-- The process' exit code is 'exited' and its exit status is 1.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
-- Subject: Unit failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:11:13 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2778 and the job result is failed.
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:31 svn sudo[18428]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/jour
Jun 14 06:11:31 svn sudo[18428]: pam_unix(sudo:session): session opened for user root by master(uid=0)
 ESCOC












R=root ; COMMAND=/usr/bin/systemctl status apache2.service
d=0)

R=root ; COMMAND=/usr/bin/vi /etc/apache2/mods-enabled/dav_svn.conf
d=0)

R=root ; COMMAND=/usr/bin/systemctl restart apache2
d=0)








574: module dav_module is already loaded, skipping
d/dav_svn.conf:
the filesystem whose subdirectories are assumed to be Subversion repositories.


LURE






















R=root ; COMMAND=/usr/bin/journalctl -xe
d=0)
 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD












R=root ; COMMAND=/usr/bin/systemctl status apache2.service
d=0)

R=root ; COMMAND=/usr/bin/vi /etc/apache2/mods-enabled/dav_svn.conf
d=0)

R=root ; COMMAND=/usr/bin/systemctl restart apache2
d=0)








574: module dav_module is already loaded, skipping
d/dav_svn.conf:
the filesystem whose subdirectories are assumed to be Subversion repositories.


LURE






















R=root ; COMMAND=/usr/bin/journalctl -xe
d=0)
 ESCOD
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2690 and the job result is failed.
Jun 14 06:06:54 svn sudo[18275]: pam_unix(sudo:session): session closed for user root
Jun 14 06:07:49 svn sudo[18286]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session closed for user root
Jun 14 06:09:51 svn sudo[18389]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/vi /
Jun 14 06:09:51 svn sudo[18389]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:10:53 svn sudo[18389]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:13 svn sudo[18415]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:11:13 svn systemd[1]: Starting The Apache HTTP Server...
-- Subject: A start job for unit apache2.service has begun execution
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has begun execution.
--
-- The job identifier is 2778.
Jun 14 06:11:13 svn apachectl[18421]: [Fri Jun 14 06:11:13.726036 2024] [so:warn] [pid 18421] AH01574: module dav_module is alre
Jun 14 06:11:13 svn apachectl[18421]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:11:13 svn apachectl[18421]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:11:13 svn apachectl[18418]: Action 'start' failed.
Jun 14 06:11:13 svn apachectl[18418]: The Apache error log may have more information.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
-- Subject: Unit process exited
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- An ExecStart= process belonging to unit apache2.service has exited.
--
-- The process' exit code is 'exited' and its exit status is 1.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
-- Subject: Unit failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:11:13 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2778 and the job result is failed.
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:31 svn sudo[18428]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/jour
Jun 14 06:11:31 svn sudo[18428]: pam_unix(sudo:session): session opened for user root by master(uid=0)
 ESCOC












R=root ; COMMAND=/usr/bin/systemctl status apache2.service
d=0)

R=root ; COMMAND=/usr/bin/vi /etc/apache2/mods-enabled/dav_svn.conf
d=0)

R=root ; COMMAND=/usr/bin/systemctl restart apache2
d=0)








574: module dav_module is already loaded, skipping
d/dav_svn.conf:
the filesystem whose subdirectories are assumed to be Subversion repositories.


LURE






















R=root ; COMMAND=/usr/bin/journalctl -xe
d=0)
 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOC


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD


























































 ESCOD












R=root ; COMMAND=/usr/bin/systemctl status apache2.service
d=0)

R=root ; COMMAND=/usr/bin/vi /etc/apache2/mods-enabled/dav_svn.conf
d=0)

R=root ; COMMAND=/usr/bin/systemctl restart apache2
d=0)








574: module dav_module is already loaded, skipping
d/dav_svn.conf:
the filesystem whose subdirectories are assumed to be Subversion repositories.


LURE






















R=root ; COMMAND=/usr/bin/journalctl -xe
d=0)
 ESCOD
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2690 and the job result is failed.
Jun 14 06:06:54 svn sudo[18275]: pam_unix(sudo:session): session closed for user root
Jun 14 06:07:49 svn sudo[18286]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session closed for user root
Jun 14 06:09:51 svn sudo[18389]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/vi /
Jun 14 06:09:51 svn sudo[18389]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:10:53 svn sudo[18389]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:13 svn sudo[18415]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:11:13 svn systemd[1]: Starting The Apache HTTP Server...
-- Subject: A start job for unit apache2.service has begun execution
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has begun execution.
--
-- The job identifier is 2778.
Jun 14 06:11:13 svn apachectl[18421]: [Fri Jun 14 06:11:13.726036 2024] [so:warn] [pid 18421] AH01574: module dav_module is alre
Jun 14 06:11:13 svn apachectl[18421]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:11:13 svn apachectl[18421]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:11:13 svn apachectl[18418]: Action 'start' failed.
Jun 14 06:11:13 svn apachectl[18418]: The Apache error log may have more information.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
-- Subject: Unit process exited
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- An ExecStart= process belonging to unit apache2.service has exited.
--
-- The process' exit code is 'exited' and its exit status is 1.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
-- Subject: Unit failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:11:13 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2778 and the job result is failed.
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:31 svn sudo[18428]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/jour
Jun 14 06:11:31 svn sudo[18428]: pam_unix(sudo:session): session opened for user root by master(uid=0)
 ESCOD
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2690 and the job result is failed.
Jun 14 06:06:54 svn sudo[18275]: pam_unix(sudo:session): session closed for user root
Jun 14 06:07:49 svn sudo[18286]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session closed for user root
Jun 14 06:09:51 svn sudo[18389]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/vi /
Jun 14 06:09:51 svn sudo[18389]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:10:53 svn sudo[18389]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:13 svn sudo[18415]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:11:13 svn systemd[1]: Starting The Apache HTTP Server...
-- Subject: A start job for unit apache2.service has begun execution
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has begun execution.
--
-- The job identifier is 2778.
Jun 14 06:11:13 svn apachectl[18421]: [Fri Jun 14 06:11:13.726036 2024] [so:warn] [pid 18421] AH01574: module dav_module is alre
Jun 14 06:11:13 svn apachectl[18421]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:11:13 svn apachectl[18421]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:11:13 svn apachectl[18418]: Action 'start' failed.
Jun 14 06:11:13 svn apachectl[18418]: The Apache error log may have more information.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
-- Subject: Unit process exited
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- An ExecStart= process belonging to unit apache2.service has exited.
--
-- The process' exit code is 'exited' and its exit status is 1.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
-- Subject: Unit failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:11:13 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2778 and the job result is failed.
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:31 svn sudo[18428]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/jour
Jun 14 06:11:31 svn sudo[18428]: pam_unix(sudo:session): session opened for user root by master(uid=0)
 ESCOD
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2690 and the job result is failed.
Jun 14 06:06:54 svn sudo[18275]: pam_unix(sudo:session): session closed for user root
Jun 14 06:07:49 svn sudo[18286]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session closed for user root
Jun 14 06:09:51 svn sudo[18389]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/vi /
Jun 14 06:09:51 svn sudo[18389]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:10:53 svn sudo[18389]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:13 svn sudo[18415]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:11:13 svn systemd[1]: Starting The Apache HTTP Server...
-- Subject: A start job for unit apache2.service has begun execution
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has begun execution.
--
-- The job identifier is 2778.
Jun 14 06:11:13 svn apachectl[18421]: [Fri Jun 14 06:11:13.726036 2024] [so:warn] [pid 18421] AH01574: module dav_module is alre
Jun 14 06:11:13 svn apachectl[18421]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:11:13 svn apachectl[18421]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:11:13 svn apachectl[18418]: Action 'start' failed.
Jun 14 06:11:13 svn apachectl[18418]: The Apache error log may have more information.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
-- Subject: Unit process exited
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- An ExecStart= process belonging to unit apache2.service has exited.
--
-- The process' exit code is 'exited' and its exit status is 1.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
-- Subject: Unit failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:11:13 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2778 and the job result is failed.
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:31 svn sudo[18428]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/jour
Jun 14 06:11:31 svn sudo[18428]: pam_unix(sudo:session): session opened for user root by master(uid=0)
 ESCOD
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:06:54 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2690 and the job result is failed.
Jun 14 06:06:54 svn sudo[18275]: pam_unix(sudo:session): session closed for user root
Jun 14 06:07:49 svn sudo[18286]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:07:49 svn sudo[18286]: pam_unix(sudo:session): session closed for user root
Jun 14 06:09:51 svn sudo[18389]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/vi /
Jun 14 06:09:51 svn sudo[18389]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:10:53 svn sudo[18389]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:13 svn sudo[18415]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/syst
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session opened for user root by master(uid=0)
Jun 14 06:11:13 svn systemd[1]: Starting The Apache HTTP Server...
-- Subject: A start job for unit apache2.service has begun execution
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has begun execution.
--
-- The job identifier is 2778.
Jun 14 06:11:13 svn apachectl[18421]: [Fri Jun 14 06:11:13.726036 2024] [so:warn] [pid 18421] AH01574: module dav_module is alre
Jun 14 06:11:13 svn apachectl[18421]: AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:11:13 svn apachectl[18421]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:11:13 svn apachectl[18418]: Action 'start' failed.
Jun 14 06:11:13 svn apachectl[18418]: The Apache error log may have more information.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
-- Subject: Unit process exited
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- An ExecStart= process belonging to unit apache2.service has exited.
--
-- The process' exit code is 'exited' and its exit status is 1.
Jun 14 06:11:13 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
-- Subject: Unit failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- The unit apache2.service has entered the 'failed' state with result 'exit-code'.
Jun 14 06:11:13 svn systemd[1]: Failed to start The Apache HTTP Server.
-- Subject: A start job for unit apache2.service has failed
-- Defined-By: systemd
-- Support: http://www.ubuntu.com/support
--
-- A start job for unit apache2.service has finished with a failure.
--
-- The job identifier is 2778 and the job result is failed.
Jun 14 06:11:13 svn sudo[18415]: pam_unix(sudo:session): session closed for user root
Jun 14 06:11:31 svn sudo[18428]:   master : TTY=pts/0 ; PWD=/home/master/svn/repository_copy ; USER=root ; COMMAND=/usr/bin/jour
Jun 14 06:11:31 svn sudo[18428]: pam_unix(sudo:session): session opened for user root by master(uid=0)
master@svn:~/svn/repository_copy$
master@svn:~/svn/repository_copy$
master@svn:~/svn/repository_copy$
master@svn:~/svn/repository_copy$
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-
mods-available/ mods-enabled/
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-
mods-available/ mods-enabled/
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/da
data.load      dav.load       dav_fs.conf    dav_fs.load    dav_lock.load  dav_svn.conf   dav_svn.load
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/da
data.load      dav.load       dav_fs.conf    dav_fs.load    dav_lock.load  dav_svn.conf   dav_svn.load
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/dav_svn.conf
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ sudo apache2ctl configtest
[Fri Jun 14 06:14:34.032852 2024] [so:warn] [pid 18564] AH01574: module dav_module is already loaded, skipping
AH00526: Syntax error on line 59 of /etc/apache2/mods-enabled/dav_svn.conf:
SVNParentPath takes one argument, specifies the location in the filesystem whose subdirectories are assumed to be Subversion rep
Action 'configtest' failed.
The Apache error log may have more information.
master@svn:~/svn/repository_copy$ ^C
master@svn:~/svn/repository_copy$ sudo vi /etc/apache2/mods-available/dav_svn.conf
master@svn:~/svn/repository_copy$ sudo apache2ctl configtest
[Fri Jun 14 06:16:04.408251 2024] [so:warn] [pid 18588] AH01574: module dav_module is already loaded, skipping
AH00526: Syntax error on line 3 of /etc/apache2/mods-enabled/dav_svn.conf:
SVNParentPath takes one argument, specifies the location in the filesystem whose subdirectories are assumed to be Subversion rep
Action 'configtest' failed.
The Apache error log may have more information.
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ sudo mkdir /var/lib/svn
master@svn:~/svn/repository_copy$ sudo chown -R www-data:www-data /var/lib/svn
master@svn:~/svn/repository_copy$ sudo chown www-data:www-data /etc/apache2/dav_svn.passwd
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ ^C
master@svn:~/svn/repository_copy$ sudo tail -f /var/log/apache2/error.log
[Fri Jun 14 05:56:17.957879 2024] [mpm_event:notice] [pid 17447:tid 139858077801536] AH00489: Apache/2.4.41 (Ubuntu) configured
[Fri Jun 14 05:56:17.958015 2024] [core:notice] [pid 17447:tid 139858077801536] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 05:56:19.667730 2024] [mpm_event:notice] [pid 17447:tid 139858077801536] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:19.709166 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:19.709294 2024] [core:notice] [pid 17721:tid 139776082897984] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 05:56:20.096259 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:20.134600 2024] [so:warn] [pid 17842] AH01574: module dav_module is already loaded, skipping
[Fri Jun 14 05:56:20.141599 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:20.141643 2024] [core:notice] [pid 17843:tid 140586933271616] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 06:06:22.309804 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00491: caught SIGTERM, shutting down
^C
master@svn:~/svn/repository_copy$ vi /etc/apache2/mods-enabled/dav_svn.conf
master@svn:~/svn/repository_copy$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~/svn/repository_copy$ cat /etc/apache2/mods-enabled/dav_svn.conf
<Location /svn>
   DAV svn
   SVNParentPath /var/lib/svn  # 여기에 저장소 디렉토리 경로를 설정합니다.

   # Basic Authentication
   AuthType Basic
   AuthName "Subversion Repository"
   AuthUserFile /etc/apache2/dav_svn.passwd  # 사용자 인증 파일 경로

   # 제한 설정
   <LimitExcept GET PROPFIND OPTIONS REPORT>
      Require valid-user
   </LimitExcept>
</Location>
master@svn:~/svn/repository_copy$ cd /var/lib/svn/
master@svn:/var/lib/svn$ ^C
master@svn:/var/lib/svn$ ls -ld /var/lib/svn
drwxr-xr-x 2 www-data www-data 4096 Jun 14 06:17 /var/lib/svn
master@svn:/var/lib/svn$ ls -l /var/lib/svn
total 0
master@svn:/var/lib/svn$ ^C
master@svn:/var/lib/svn$ vi /etc/apache2/mods-enabled/dav_svn.conf
master@svn:/var/lib/svn$ sudo vi /etc/apache2/mods-enabled/dav_svn.conf
master@svn:/var/lib/svn$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:/var/lib/svn$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:/var/lib/svn$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:/var/lib/svn$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:/var/lib/svn$ cd ~
master@svn:~$ pwd
/home/master
master@svn:~$ ls
svn
master@svn:~$ ll
total 44
drwxr-xr-x 6 master master 4096 Jun 14 06:27 ./
drwxr-xr-x 3 root   root   4096 Jun 14 04:16 ../
-rw------- 1 master master   49 Jun 14 05:38 .Xauthority
-rw-r--r-- 1 master master  220 Feb 25  2020 .bash_logout
-rw-r--r-- 1 master master 3771 Feb 25  2020 .bashrc
drwx------ 2 master master 4096 Jun 14 05:38 .cache/
-rw-r--r-- 1 master master  807 Feb 25  2020 .profile
drwx------ 2 master master 4096 Jun 14 04:16 .ssh/
drwxrwxr-x 3 master master 4096 Jun 14 05:44 .subversion/
-rw-r--r-- 1 master master    0 Jun 14 05:41 .sudo_as_admin_successful
-rw------- 1 master master 1366 Jun 14 06:27 .viminfo
drwxrwxr-x 4 master master 4096 Jun 14 05:51 svn/
master@svn:~$ sudo chown -R www-data:www-data /home/user/svn
chown: cannot access '/home/user/svn': No such file or directory
master@svn:~$ sudo chown -R www-data:www-data /home/master/svn
master@svn:~$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~$ ^C
master@svn:~$ sudo tail -n 50 /var/log/apache2/error.log
[Fri Jun 14 05:56:17.957879 2024] [mpm_event:notice] [pid 17447:tid 139858077801536] AH00489: Apache/2.4.41 (Ubuntu) configured
[Fri Jun 14 05:56:17.958015 2024] [core:notice] [pid 17447:tid 139858077801536] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 05:56:19.667730 2024] [mpm_event:notice] [pid 17447:tid 139858077801536] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:19.709166 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:19.709294 2024] [core:notice] [pid 17721:tid 139776082897984] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 05:56:20.096259 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:20.134600 2024] [so:warn] [pid 17842] AH01574: module dav_module is already loaded, skipping
[Fri Jun 14 05:56:20.141599 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:20.141643 2024] [core:notice] [pid 17843:tid 140586933271616] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 06:06:22.309804 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00491: caught SIGTERM, shutting down
master@svn:~$ ^C
master@svn:~$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~$ ^C
master@svn:~$ sudo vi /etc/apache2/mods-available/dav_svn.conf
master@svn:~$ cat /etc/apache2/mods-available/dav_svn.conf
<Location /svn>
   DAV svn
   SVNParentPath /home/master/svn  # 여기에 저장소 디렉토리 경로를 설정합니다.

   # Basic Authentication
   AuthType Basic
   AuthName "Subversion Repository"
   AuthUserFile /etc/apache2/dav_svn.passwd  # 사용자 인증 파일 경로

   # 제한 설정
   <LimitExcept GET PROPFIND OPTIONS REPORT>
      Require valid-user
   </LimitExcept>
</Location>
master@svn:~$ pwd
/home/master
master@svn:~$ ll
total 44
drwxr-xr-x 6 master   master   4096 Jun 14 06:27 ./
drwxr-xr-x 3 root     root     4096 Jun 14 04:16 ../
-rw------- 1 master   master     49 Jun 14 05:38 .Xauthority
-rw-r--r-- 1 master   master    220 Feb 25  2020 .bash_logout
-rw-r--r-- 1 master   master   3771 Feb 25  2020 .bashrc
drwx------ 2 master   master   4096 Jun 14 05:38 .cache/
-rw-r--r-- 1 master   master    807 Feb 25  2020 .profile
drwx------ 2 master   master   4096 Jun 14 04:16 .ssh/
drwxrwxr-x 3 master   master   4096 Jun 14 05:44 .subversion/
-rw-r--r-- 1 master   master      0 Jun 14 05:41 .sudo_as_admin_successful
-rw------- 1 master   master   1366 Jun 14 06:27 .viminfo
drwxrwxr-x 4 www-data www-data 4096 Jun 14 05:51 svn/
master@svn:~$ ^C
master@svn:~$ sudo chown -R www-data:www-data /home/master/svn
master@svn:~$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~$ sudo tail -n 50 /var/log/apache2/error.log
[Fri Jun 14 05:56:17.957879 2024] [mpm_event:notice] [pid 17447:tid 139858077801536] AH00489: Apache/2.4.41 (Ubuntu) configured
[Fri Jun 14 05:56:17.958015 2024] [core:notice] [pid 17447:tid 139858077801536] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 05:56:19.667730 2024] [mpm_event:notice] [pid 17447:tid 139858077801536] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:19.709166 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:19.709294 2024] [core:notice] [pid 17721:tid 139776082897984] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 05:56:20.096259 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:20.134600 2024] [so:warn] [pid 17842] AH01574: module dav_module is already loaded, skipping
[Fri Jun 14 05:56:20.141599 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:20.141643 2024] [core:notice] [pid 17843:tid 140586933271616] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 06:06:22.309804 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00491: caught SIGTERM, shutting down
master@svn:~$ ^C
master@svn:~$ sudo a2enmod dav dav_svn auth_basic authn_file authz_svn
Module dav already enabled
Considering dependency dav for dav_svn:
Module dav already enabled
Module dav_svn already enabled
Considering dependency authn_core for auth_basic:
Module authn_core already enabled
Module auth_basic already enabled
Module authn_file already enabled
Considering dependency dav_svn for authz_svn:
Considering dependency dav for dav_svn:
Module dav already enabled
Module dav_svn already enabled
Module authz_svn already enabled
master@svn:~$ sudo systemctl restart apache2
Job for apache2.service failed because the control process exited with error code.
See "systemctl status apache2.service" and "journalctl -xe" for details.
master@svn:~$ systemctl status apache2.service
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)
     Active: failed (Result: exit-code) since Fri 2024-06-14 06:32:45 UTC; 14s ago
       Docs: https://httpd.apache.org/docs/2.4/
    Process: 18928 ExecStart=/usr/sbin/apachectl start (code=exited, status=1/FAILURE)

Jun 14 06:32:45 svn systemd[1]: Starting The Apache HTTP Server...
Jun 14 06:32:45 svn apachectl[18931]: [Fri Jun 14 06:32:45.260303 2024] [so:warn] [pid 18931] AH01574: module dav_module is alre
Jun 14 06:32:45 svn apachectl[18931]: AH00526: Syntax error on line 3 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:32:45 svn apachectl[18931]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:32:45 svn apachectl[18928]: Action 'start' failed.
Jun 14 06:32:45 svn apachectl[18928]: The Apache error log may have more information.
Jun 14 06:32:45 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
Jun 14 06:32:45 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
Jun 14 06:32:45 svn systemd[1]: Failed to start The Apache HTTP Server.
master@svn:~$ ^C
master@svn:~$ sudo vi /etc/apache2/mods-available/dav_svn.conf
master@svn:~$ systemctl status apache2.service
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)
     Active: failed (Result: exit-code) since Fri 2024-06-14 06:32:45 UTC; 1min 39s ago
       Docs: https://httpd.apache.org/docs/2.4/
    Process: 18928 ExecStart=/usr/sbin/apachectl start (code=exited, status=1/FAILURE)

Jun 14 06:32:45 svn systemd[1]: Starting The Apache HTTP Server...
Jun 14 06:32:45 svn apachectl[18931]: [Fri Jun 14 06:32:45.260303 2024] [so:warn] [pid 18931] AH01574: module dav_module is alre
Jun 14 06:32:45 svn apachectl[18931]: AH00526: Syntax error on line 3 of /etc/apache2/mods-enabled/dav_svn.conf:
Jun 14 06:32:45 svn apachectl[18931]: SVNParentPath takes one argument, specifies the location in the filesystem whose subdirect
Jun 14 06:32:45 svn apachectl[18928]: Action 'start' failed.
Jun 14 06:32:45 svn apachectl[18928]: The Apache error log may have more information.
Jun 14 06:32:45 svn systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILURE
Jun 14 06:32:45 svn systemd[1]: apache2.service: Failed with result 'exit-code'.
Jun 14 06:32:45 svn systemd[1]: Failed to start The Apache HTTP Server.
master@svn:~$ sudo systemctl restart apache2
master@svn:~$ systemctl status apache2.service
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2024-06-14 06:34:27 UTC; 13min ago
       Docs: https://httpd.apache.org/docs/2.4/
    Process: 18943 ExecStart=/usr/sbin/apachectl start (code=exited, status=0/SUCCESS)
   Main PID: 18947 (apache2)
      Tasks: 55 (limit: 9456)
     Memory: 9.3M
     CGroup: /system.slice/apache2.service
             ├─18947 /usr/sbin/apache2 -k start
             ├─18948 /usr/sbin/apache2 -k start
             └─18949 /usr/sbin/apache2 -k start

Jun 14 06:34:27 svn systemd[1]: Starting The Apache HTTP Server...
Jun 14 06:34:27 svn apachectl[18946]: [Fri Jun 14 06:34:27.629583 2024] [so:warn] [pid 18946] AH01574: module dav_module is alre
Jun 14 06:34:27 svn systemd[1]: Started The Apache HTTP Server.
master@svn:~$ curl 128.0.0.1
^C
master@svn:~$ curl 128.0.0.1/svn
^C
master@svn:~$ curl http://127.0.0.1/svn
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>403 Forbidden</title>
</head><body>
<h1>Forbidden</h1>
<p>You don't have permission to access this resource.</p>
<hr>
<address>Apache/2.4.41 (Ubuntu) Server at 127.0.0.1 Port 80</address>
</body></html>
master@svn:~$ ^C
master@svn:~$ sudo chown -R www-data:www-data /home/master/svn
master@svn:~$ sudo chmod -R 755 /home/master/svn
master@svn:~$ curl http://127.0.0.1/svn
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>403 Forbidden</title>
</head><body>
<h1>Forbidden</h1>
<p>You don't have permission to access this resource.</p>
<hr>
<address>Apache/2.4.41 (Ubuntu) Server at 127.0.0.1 Port 80</address>
</body></html>
master@svn:~$ sudo nano /etc/apache2/mods-enabled/dav_svn.conf
master@svn:~$ cat /etc/apache2/mods-enabled/dav_svn.conf
<Location /svn>
   DAV svn
   SVNParentPath /home/master/svn

   # Basic Authentication
   AuthType Basic
   AuthName "Subversion Repository"
   AuthUserFile /etc/apache2/dav_svn.passwd

   # 제한 설정
   <LimitExcept GET PROPFIND OPTIONS REPORT>
      Require valid-user
   </LimitExcept>
</Location>
master@svn:~$ sudo tail -f /var/log/apache2/error.log
[Fri Jun 14 05:56:20.096259 2024] [mpm_event:notice] [pid 17721:tid 139776082897984] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 05:56:20.134600 2024] [so:warn] [pid 17842] AH01574: module dav_module is already loaded, skipping
[Fri Jun 14 05:56:20.141599 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 05:56:20.141643 2024] [core:notice] [pid 17843:tid 140586933271616] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 06:06:22.309804 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 06:34:27.640047 2024] [so:warn] [pid 18946] AH01574: module dav_module is already loaded, skipping
[Fri Jun 14 06:34:27.646880 2024] [mpm_event:notice] [pid 18947:tid 139983899372608] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 06:34:27.646921 2024] [core:notice] [pid 18947:tid 139983899372608] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 06:50:36.761207 2024] [:error] [pid 18948:tid 139983662810880] [client 127.0.0.1:34216] The URI does not contain the
[Fri Jun 14 06:51:08.383018 2024] [:error] [pid 18948:tid 139983872935680] [client 127.0.0.1:34266] The URI does not contain the
^C
master@svn:~$ http://127.0.0.1/svn/repository_copy
-bash: http://127.0.0.1/svn/repository_copy: No such file or directory
master@svn:~$ curl http://127.0.0.1/svn/repository_copy
<?xml version="1.0" encoding="utf-8"?>
<D:error xmlns:D="DAV:" xmlns:m="http://apache.org/dav/xmlns" xmlns:C="svn:">
<C:error/>
<m:human-readable errcode="2">
Could not find the requested SVN filesystem
</m:human-readable>
</D:error>
master@svn:~$ sudo tail -f /var/log/apache2/error.log
[Fri Jun 14 06:06:22.309804 2024] [mpm_event:notice] [pid 17843:tid 140586933271616] AH00491: caught SIGTERM, shutting down
[Fri Jun 14 06:34:27.640047 2024] [so:warn] [pid 18946] AH01574: module dav_module is already loaded, skipping
[Fri Jun 14 06:34:27.646880 2024] [mpm_event:notice] [pid 18947:tid 139983899372608] AH00489: Apache/2.4.41 (Ubuntu) SVN/1.13.0
[Fri Jun 14 06:34:27.646921 2024] [core:notice] [pid 18947:tid 139983899372608] AH00094: Command line: '/usr/sbin/apache2'
[Fri Jun 14 06:50:36.761207 2024] [:error] [pid 18948:tid 139983662810880] [client 127.0.0.1:34216] The URI does not contain the
[Fri Jun 14 06:51:08.383018 2024] [:error] [pid 18948:tid 139983872935680] [client 127.0.0.1:34266] The URI does not contain the
[Fri Jun 14 06:53:16.556174 2024] [:error] [pid 18948:tid 139983788701440] (20014)Internal error (specific information not availository_copy/format': No such file or directory
[Fri Jun 14 06:53:16.556209 2024] [dav:error] [pid 18948:tid 139983788701440] [client 127.0.0.1:33472] Could not fetch resource
[Fri Jun 14 06:53:16.556213 2024] [dav:error] [pid 18948:tid 139983788701440] [client 127.0.0.1:33472] Could not find the reques
[Fri Jun 14 06:53:16.556215 2024] [dav:error] [pid 18948:tid 139983788701440] [client 127.0.0.1:33472] Could not find the reques
[Fri Jun 14 06:55:34.243664 2024] [:error] [pid 18949:tid 139983788701440] (20014)Internal error (specific information not availository_copy/format': No such file or directory
[Fri Jun 14 06:55:34.243714 2024] [dav:error] [pid 18949:tid 139983788701440] [client 127.0.0.1:33662] Could not fetch resource
[Fri Jun 14 06:55:34.243724 2024] [dav:error] [pid 18949:tid 139983788701440] [client 127.0.0.1:33662] Could not find the reques
[Fri Jun 14 06:55:34.243728 2024] [dav:error] [pid 18949:tid 139983788701440] [client 127.0.0.1:33662] Could not find the reques
[Fri Jun 14 06:55:36.774291 2024] [:error] [pid 18948:tid 139983771916032] (20014)Internal error (specific information not availository_copy/format': No such file or directory
[Fri Jun 14 06:55:36.774332 2024] [dav:error] [pid 18948:tid 139983771916032] [client 127.0.0.1:33666] Could not fetch resource
[Fri Jun 14 06:55:36.774340 2024] [dav:error] [pid 18948:tid 139983771916032] [client 127.0.0.1:33666] Could not find the reques
[Fri Jun 14 06:55:36.774345 2024] [dav:error] [pid 18948:tid 139983771916032] [client 127.0.0.1:33666] Could not find the reques
[Fri Jun 14 06:56:04.244110 2024] [dav:error] [pid 18948:tid 139983755130624] [client 127.0.0.1:59340] Could not fetch resource
[Fri Jun 14 06:56:04.244138 2024] [dav:error] [pid 18948:tid 139983755130624] [client 127.0.0.1:59340] Requests for a collection
[Fri Jun 14 06:56:09.854103 2024] [dav:error] [pid 18949:tid 139983687988992] [client 127.0.0.1:59342] Could not fetch resource
[Fri Jun 14 06:56:09.854194 2024] [dav:error] [pid 18949:tid 139983687988992] [client 127.0.0.1:59342] Requests for a collection
[Fri Jun 14 06:56:40.124264 2024] [dav:error] [pid 18949:tid 139983771916032] [client 125.131.104.41:65237] Could not fetch reso
[Fri Jun 14 06:56:40.124308 2024] [dav:error] [pid 18949:tid 139983771916032] [client 125.131.104.41:65237] Requests for a colle
[Fri Jun 14 07:08:45.165025 2024] [:error] [pid 18949:tid 139983729952512] [client 125.131.104.41:6165] The URI does not contain the name of a repository.  [403, #190001]
```